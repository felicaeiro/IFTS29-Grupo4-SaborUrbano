doctype html
html
  head

    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css")
    link(rel="stylesheet", href="/css/styles.css")
    title Clientes
  body
    header.header
      h2 Clientes
      div
        div.div-menu
          a(href="/inicio").a-inicio Inicio
          a(href="/productos").a-inicio Productos
          a(href="/pedidos").a-inicio Pedidos
          a(href="/clientes").a-inicio Clientes
          a(href="/informe").a-inicio Informes

        span Bienvenido #{usuario}
        form(method="POST", action="/logout")
          button(type="submit") Cerrar sesión

    form(method="GET", action="/clientes/nuevo")
      button.btn-pedidos.btn-nuevo-pedido(type="submit") Nuevo cliente

    ul.ul-clientes 
      each cliente in clientes
        li.li-clientes
          |#{cliente.apellido} #{cliente.nombre}

          span 
            strong Domicilio: 
            | #{cliente.domicilio}
            
          span
            a(href=`/clientes/${cliente.id}`)
              button.btn Ver Datos

            button.btn Ver Pedidos
            a(href=`/clientes/editar/${cliente.id}`)
              img(src="../images/editar.png", alt="editar")
              
            img(src="../images/eliminar.png", alt="eliminar" data-bs-toggle="modal", data-bs-target=`#modalEliminar-${cliente.id}`)
  


        div.modal.fade(id=`modalEliminar-${cliente.id}`, tabindex="-1", aria-labelledby=`modalEliminarLabel-${cliente.id}`, aria-hidden="true")
          div.modal-dialog
            div.modal-content
              div.modal-header
                h5.modal-title(id=`modalEliminarLabel-${cliente.id}`) Confirmar eliminación
                button.btn-close(type="button", data-bs-dismiss="modal", aria-label="Close")
              div.modal-body
                | ¿Seguro que deseas eliminar a 
                strong #{cliente.id ? cliente.nombre + ' ' + cliente.apellido : 'sin cliente'}
                | ?
              div.modal-footer
                button.btn.btn-secondary(type="button", data-bs-dismiss="modal") Cancelar
                form(action=`/clientes/${cliente.id}?_method=DELETE`, method="POST", style="display:inline")
                  button.btn.btn-danger(type="submit") Eliminar

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")