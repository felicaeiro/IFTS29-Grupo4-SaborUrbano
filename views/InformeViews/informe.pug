doctype html
html(lang="es")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Informe de Ventas - Sabor Urbano
    style.
      body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin: 2em; background-color: #f9f9f9; color: #333; }
      .container { max-width: 900px; margin: 0 auto; background-color: #fff; padding: 2em; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
      h1, h2 { color: #2c3e50; border-bottom: 2px solid #e0e0e0; padding-bottom: 10px; }
      h1 { text-align: center; }
      table { width: 100%; border-collapse: collapse; margin-bottom: 2.5em; }
      th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
      th { background-color: #f2f9ff; font-weight: 600; }
      tr:nth-child(even) { background-color: #f9f9f9; }
      .no-data { color: #888; font-style: italic; background-color: #fff3f3; padding: 1em; border-left: 4px solid #e74c3c; }

  body
    .container
      h1 Informe General de Sabor Urbano

      h2 Top 3 Productos Más Vendidos
      if topProductosVendidos && topProductosVendidos.length > 0
        table
          thead
            tr
              th Nombre del Producto
              th Precio Unitario
              th Cantidad Vendida
          tbody
            each producto in topProductosVendidos
              tr
                td= producto.nombre
                td= `$${producto.precio.toLocaleString('es-AR')}`
                td= producto.cantidadVendida
      else
        p.no-data No hay datos de productos vendidos para mostrar.

      h2 Top 3 Clientes Más Recurrentes
      if topClientesRecurrentes && topClientesRecurrentes.length > 0
        table
          thead
            tr
              th Nombre
              th Apellido
              th Total de Pedidos
          tbody
            each cliente in topClientesRecurrentes
              tr
                td= cliente.nombre
                td= cliente.apellido
                td= cliente.totalPedidos
      else
        p.no-data No hay datos de clientes recurrentes para mostrar.

      h2 Top 3 Clientes por Gasto Total
      if topClientesPorGasto && topClientesPorGasto.length > 0
        table
          thead
            tr
              th Nombre
              th Apellido
              th Gasto Total
          tbody
            each cliente in topClientesPorGasto
              tr
                td= cliente.nombre
                td= cliente.apellido
                td= `$${cliente.gastoTotal.toLocaleString('es-AR')}`
      else
        p.no-data No hay datos de gasto de clientes para mostrar.