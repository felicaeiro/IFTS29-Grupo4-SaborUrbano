doctype html
html
  head
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css")
    link(rel="stylesheet", href="/css/styles.css")

    title Productos
  body
    header.header
      h2 Productos
      div
        div.div-menu
          a(href="/inicio").a-inicio Inicio
          a(href="/productos").a-inicio Productos
          a(href="/pedidos").a-inicio Pedidos
          a(href="/clientes").a-inicio Clientes
          a(href="/caja").a-inicio Pagos
          a(href="/informe").a-inicio Informes

        span Bienvenido #{usuario}
        form(method="POST", action="/logout")
          button(type="submit") Cerrar sesión

  
    form(method="GET", action="/productos/nuevo")
      button.btn-pedidos.btn-nuevo-pedido(type="submit") Nuevo producto

    ul.ul-clientes 
      each p in productos
        li.li-clientes
          |#{p.nombre} ($#{p.precio}) 
          span
            a(href=`/productos/${p.id}`)
              button Ver Detalle
            a(href=`/productos/editar/${p.id}`)
              img(src="../images/editar.png", alt="editar")
              
            img(src="../images/eliminar.png", alt="eliminar", data-bs-toggle="modal", data-bs-target=`#modalEliminar-${p.id}`)

        div.modal.fade(id=`modalEliminar-${p.id}`, tabindex="-1", aria-labelledby=`modalEliminarLabel-${p.id}`, aria-hidden="true")
          div.modal-dialog
            div.modal-content
              div.modal-header
                h5.modal-title(id=`modalEliminarLabel-${p.id}`) Confirmar eliminación
                button.btn-close(type="button", data-bs-dismiss="modal", aria-label="Close")
              div.modal-body
                | ¿Seguro que deseas eliminar a 
                strong #{p.id ? p.nombre : ''}
                | ?
              div.modal-footer
                button.btn.btn-secondary(type="button", data-bs-dismiss="modal") Cancelar
                form(action=`/productos/${p.id}?_method=DELETE`, method="POST", style="display:inline")
                  button.btn.btn-danger(type="submit") Eliminar
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")
    